# People API - Complete Documentation
This document contains the complete documentation for all endpoints in the People API section.
Generated by combining 4 individual endpoint documentation files.

---

# In-DB: People Search API 

### [ üöÄ Try Now ](/api#tag/people-apis/POST/screener/persondb/search)

Search and filter people based on various professional criteria.

## Endpoint

```
POST /screener/persondb/search
```

## Data Dictionary

[Explore the complete data dictionary for this endpoint here](/docs/2024-11-01/dictionary/people-discovery)

### Response Fields Highlight

Each profile in the response includes structured location information in the `location_details` object:

```json
{
  "person_id": 123,
  "name": "Jane Smith",
  "region": "San Francisco Bay Area",
  "location_details": {
    "city": "San Francisco",
    "state": "California",
    "country": "United States",
    "continent": "North America"
  },
  // ... other fields
}
```

The `location_details` object provides easy access to parsed location components. Only non-null fields are included, so if location data is incomplete, some fields may be missing.

## Request Parameters

| **Payload Keys** | **Description**                                                                                      | **Required** |
| ------------- | ---------------------------------------------------------------------------------------------------- | ------------ |
| `filters`     | An object containing the filter conditions. See the Building Complex Filters section below for details.                                                          | Yes         |
| `sorts`       | An array of sort criteria to order results. See the Sorting Results section below for details.        | No          |
| `cursor`      | Pagination cursor from previous response. Used for fetching the next page of results.                 | No          |
| `limit`       | The number of results to return in a single request. Default value is `20`. Maximum is `1,000`.      | No          |
| `post_processing` | Extra filtering rules applied to the search query. See Post-processing options below.             | No          |
| `preview` | [**Access controlled**] <br/>Provides basic profile details lookup. Default is `false` | No          |

## Credit Usage

- **People Discovery**: 3 credit per 100 results returned
- **Preview Mode**: 0 credits when `preview=true` is used
- **No Results, No Charges**: You are never charged credits when our APIs return no results. Credits are only deducted when data is successfully returned from your API requests.

## Finding Valid Filter Values with Autocomplete

Use the **[PersonDB Autocomplete API](/docs/2024-11-01/discover/auxiliary-apis/persondb-autocomplete)** to find exact field values for your search filters. This dedicated autocomplete endpoint helps you discover what values exist in our database.

### üîç When to Use PersonDB Autocomplete API

**Use Case 1: Discover Valid Field Values**
- Get possible values for any field returned by the PersonDB search endpoint
- Convert partial or fuzzy text into matching value stored in our data for a field

**Use Case 2: Build Dynamic Search Interfaces**  
- Power autocomplete dropdowns and search suggestions in your UI
- Create responsive search experiences with accurate field matching

### Quick Example: Finding Region Values

#### Step 1: Get region suggestions
```bash
curl -X POST 'https://api.crustdata.com/screener/persondb/autocomplete' \
--header 'Authorization: Token $authToken' \
--header 'Content-Type: application/json' \
--data '{
    "field": "region",
    "query": "san franci",
    "limit": 5
}'
```

#### Step 2: Use exact value in your search
```bash
curl -X POST 'https://api.crustdata.com/screener/persondb/search' \
--header 'Authorization: Token $authToken' \
--header 'Content-Type: application/json' \
--data '{
    "filters": {
        "filter_type": "region",
        "type": "=",
        "value": "San Francisco"
    }
}'
```

**üí° Tip**: The autocomplete API works with **any field** from the [data dictionary](/docs/2024-11-01/dictionary/people-discovery)

## Filter Operators

### Filter Structure

Each filter condition requires three components:
- `filter_type`: The field name to filter on (e.g., `"current_employers.title"`, `"region"`, `"years_of_experience_raw"`)
- `type`: The operator to use (e.g., `"="`, `"in"`, `"(.)"`)
- `value`: The value(s) to match

**Complete filter example:**
```json
{
    "filter_type": "current_employers.title",
    "type": "=",
    "value": "CEO"
}
```

**Field name formats:**
- **Top-level fields**: Use the field name directly (e.g., `"region"`, `"headline"`, `"years_of_experience_raw"`)
- **Nested fields**: Use dot notation (e.g., `"current_employers.title"`, `"education_background.institute_name"`)
- **Array fields**: Access nested properties within arrays (e.g., `"all_employers.name"`, `"past_employers.company_hq_location"`)

See the [Data Dictionary](/docs/2024-11-01/dictionary/people-discovery) for a complete list of available fields and their formats.

### Matching Operators
| **Operator** | **Description** | **Example** | **Field Types** |
| ------------ | --------------- | ----------- | --------------- |
| `=` | Exact match | `{"filter_type": "current_employers.title", "type": "=", "value": "CEO"}` | All |
| `!=` | Not equal to | `{"filter_type": "current_employers.title", "type": "!=", "value": "Intern"}` | All |
| `in` | Matches any value in list | `{"filter_type": "current_employers.title", "type": "in", "value": ["CEO", "CTO", "CFO"]}` | All |
| `not_in` | Doesn't match any value in list | `{"filter_type": "current_employers.title", "type": "not_in", "value": ["Intern", "Junior"]}` | All |

:::note Case Sensitivity
The `=` operator performs **case-insensitive** matching for text fields (e.g., searching for "CEO" will match "ceo", "Ceo", or "CEO"). 

The `IN` operator performs **exact, case-sensitive** matching. When using `IN`, ensure your values match the exact casing in the data.
:::

:::tip Getting Exact Values for Filters
For best results with `=` and `in` operators, use the [PersonDB Autocomplete API](/docs/2024-11-01/discover/auxiliary-apis/persondb-autocomplete) to get exact field values. This is especially useful for fields like:
- `region` - Get exact location names
- `current_employers.name` - Get exact company names  
- `education_background.institute_name` - Get exact institution names
- `current_employers.title` - Get standardized job titles
- And many other text fields

**Example workflow:**
1. Call autocomplete API: `POST /screener/persondb/autocomplete` with `{"field": "region", "query": "san francisco"}`
2. Get exact value: `"San Francisco Bay Area"`
3. Use in filter: `{"column": "region", "type": "=", "value": "San Francisco Bay Area"}`
:::

### Comparison Operators
| **Operator** | **Description** | **Example** | **Field Types** |
| ------------ | --------------- | ----------- | --------------- |
| `>` | Greater than | `{"filter_type": "years_of_experience_raw", "type": ">", "value": 5}` | Number, Date |
| `<` | Less than | `{"filter_type": "num_of_connections", "type": "<", "value": 100}` | Number, Date |
| `=>` | Greater than or equal | `{"filter_type": "years_of_experience_raw", "type": "=>", "value": 10}` | Number, Date |
| `=<` | Less than or equal | `{"filter_type": "years_of_experience_raw", "type": "=<", "value": 50}` | Number, Date |

### Text Search Operators
| **Operator** | **Description** | **Example** | **Field Types** |
| ------------ | --------------- | ----------- | --------------- |
| `(.)` | Text search with fuzzy matching (allows typos). | `{"filter_type": "headline", "type": "(.)", "value": "engineer"}` | Text |
| `[.]` | Substring matching (no typos allowed). **Note**: This is NOT exact string equality - it matches any value containing the search term as a substring. | `{"filter_type": "current_employers.title", "type": "[.]", "value": "Software Engineer"}` | Text |

### Geographic Operators
| **Operator** | **Description** | **Example** | **Field Types** |
| ------------ | --------------- | ----------- | --------------- |
| `geo_distance` | Find records within a radius of a location | `{"column": "region", "type": "geo_distance", "value": {"location": "San Francisco", "distance": 50, "unit": "km"}}` | Location (region) |

:::tip Text Search Operators Best Practices
**Understanding the difference between `(.)` and `[.]`:**

- **`(.)` Fuzzy matching**: 
  - Allows typos and word edits (fuzzy matching)
  - Doesn't strictly respect word order
  - Multi-word searches: Each word is searched independently (all must be present but in any order)
  - Example: "Software Engineer" may match "Engineer Software" or "Sr Software Engineer"
  
- **`[.]` Substring matching**: 
  - **Performs substring matching, not exact string equality**
  - Matches any value that contains the search term as a substring
  - No typos allowed, requires exact tokens
  - Example: Searching for "Cline" will match "Cline", "Clinebot", "Cline Design", "McCline & Associates", etc.
  - **Important**: This behavior can lead to inflated result counts when used with non-unique company names
  
- **Region/state filtering**:
  - Use `[.]` for state-level `region` filters to avoid fuzzy matches.
  - `(.)` can expand to similar-looking names across countries (e.g., searching for `"Illinois"` or `"Indiana"` with `(.)` can return profiles from `"India"`).
  - Example: `{"filter_type": "region", "type": "[.]", "value": "Illinois"}` returns profiles in Illinois, whereas `{"filter_type": "region", "type": "(.)", "value": "Illinois"}` may include unintended matches.

**When to use which:**
- Use `(.)` for flexible searching when you want to find variations and don't mind typos
- Use `[.]` for substring matching when you need exact tokens but want to match partial strings
- **For company filtering**: Avoid using `[.]` with company names - use `company_linkedin_profile_url` instead for precise matching (see Company Filtering Best Practices below)
- Prefer `(.)` over `IN` or `=` unless you have exact values from the [PersonDB Autocomplete API](/docs/2024-11-01/discover/auxiliary-apis/persondb-autocomplete)
:::

:::info Usage Notes
- **Text fields**: Prefer the fuzzy operator `(.)` for partial matches with automatic typo handling. Use exact match (`=`) or `IN` only when you have exact values from the [PersonDB Autocomplete API](/docs/2024-11-01/discover/auxiliary-apis/persondb-autocomplete)
- **Numeric fields**: All operators work with numeric values like `years_of_experience_raw`, `num_of_connections`
- **Date fields**: Comparison operators work with ISO date strings like `"2024-01-01"`. Note that date fields will only appear in the response if they exist in the data
- **Boolean fields**: Use `=` with `true` or `false` values. Examples include `recently_changed_jobs` and `current_employers.business_email_verified`
:::

## Company Filtering Best Practices

### Understanding Company Name Matching Behavior

When filtering by company using the **company name** field (e.g., `current_employers.name`, `past_employers.name`, `all_employers.name`), it's important to understand how different operators work:

:::warning Important: `[.]` Operator Performs Substring Matching
The `[.]` operator (often called "strict match") **does NOT perform exact string equality** on company names. Instead, it performs a **substring match**.

**This means:**
- Searching for `"Cline"` with `[.]` will match **any company** whose name contains "Cline" as a substring
- This can include multiple distinct companies: "Cline Design", "Clinebot", "Cline HQ", "McCline & Associates", etc.
- This leads to **inflated result counts** and **unintended matches** when the company name is not unique

**Example of the problem:**
```json
{
  "column": "current_employers.name",
  "type": "[.]",
  "value": "Cline"
}
```
This will match profiles from ALL companies with "Cline" in their name, not just the specific company you intend.
:::

### Recommended: Use LinkedIn Profile URL for Precise Company Filtering

For **high-precision company filtering**, use the `company_linkedin_profile_url` field instead of the company name. This ensures you're matching the exact company you intend.

**Available company identifier fields (in order of precision):**
1. **`company_linkedin_profile_url`** (Most Precise) - Example: `"https://www.linkedin.com/company/clinebot"`
2. **`linkedin_id`** (Precise) - Example: `"123456"`
3. **`company_website_domain`** (Moderately Precise) - Example: `"cline.com"`
4. **`name`** (Least Precise) - Example: `"Cline"` (substring matching issues)

### How to Get LinkedIn Company URLs

LinkedIn company URLs follow this format: `https://www.linkedin.com/company/{company-slug}`

**Methods to obtain the correct URL:**
1. **Use the [Company Identification API](/docs/2024-11-01/discover/company-apis/company-identification-api)** - Provide a company website or name to get its LinkedIn URL and ID
2. **Manual lookup** - Search for the company on LinkedIn and copy the URL from the company page

### Example: High-Precision Company Filtering

Here's a complete example showing how to filter for people at a specific company using LinkedIn profile URL combined with other filters:

```bash
curl --location 'https://api.crustdata.com/screener/persondb/search' \
  --header 'Authorization: Token $auth' \
  --header 'Content-Type: application/json' \
  --data '{
  "filters": {
    "op": "and",
    "conditions": [
      {
        "op": "or",
        "conditions": [
          {
            "column": "all_employers.company_linkedin_profile_url",
            "type": "=",
            "value": "https://www.linkedin.com/company/clinebot"
          }
        ]
      },
      {
        "column": "current_employers.function_category",
        "type": "=",
        "value": "Engineering"
      }
    ]
  },
  "limit": 100
}'
```

**What this query does:**
- Finds people who have **ever worked** at the specific company (using the OR across `all_employers`)
- AND who are **currently in Engineering** roles
- Uses the exact LinkedIn company URL to avoid matching unintended companies

## Location Filtering

### How It Works

When you filter by location fields, the API automatically searches across both:
1. **Main location field** - The complete location string (e.g., "San Francisco Bay Area")
2. **Address components field** - Individual location hierarchy components (city, state, country)

This dual-search approach ensures you can find matches regardless of how locations are formatted in the data.

### Supported Location Fields

The following fields support automatic address component searching:
- `region` ‚Üí automatically searches both `region` and `region_address_components`
- `current_employers.company_hq_location` ‚Üí automatically includes address components
- `past_employers.company_hq_location` ‚Üí automatically includes address components
- `all_employers.company_hq_location` ‚Üí automatically includes address components

### Example

When you search for "California", the API automatically searches for matches in both the full location string and address components:
```json
{
  "column": "region",
  "type": "(.)",
  "value": "California"
}
```

This will match profiles with:
- Full location: "San Francisco Bay Area, California, United States"
- Address components containing: "California"

**Note:** This automatic expansion applies to ALL filter operators (=, !=, in, not_in, (.), [.]), not just fuzzy search. You don't need to explicitly filter on the address_components fields - the API handles this automatically for better matching.

## Geographic Radius Filtering (geo_distance)

The `geo_distance` filter allows you to find people within a specific radius of a location. This is useful for finding candidates in proximity to an office, city, or point of interest.

:::info New Feature
This feature was released on January 12, 2026. See the [changelog entry](/changelog/2026-01-12-persondb-geo-radius-search) for detailed information about geographic radius filtering and structured location data.
:::

### How It Works

1. **Specify a location** by name (e.g., "San Francisco", "New York", "London")
2. **Set a radius** distance and unit (kilometers, miles, meters, feet)
3. The API automatically geocodes the location and finds all people within that radius

**Technical details:** The system uses our location database to convert location names to latitude/longitude coordinates, then Elasticsearch performs a native geo_distance query to find all people within the specified radius. For more technical information, see the [Technical Details section in the changelog](/changelog/2026-01-12-persondb-geo-radius-search#technical-details).

### Supported Fields

The `geo_distance` operator currently works with:
- `region` - Person's current location

### Filter Structure

```json
{
  "column": "region",
  "type": "geo_distance",
  "value": {
    "location": "San Francisco",
    "distance": 50,
    "unit": "km"
  }
}
```

**Parameters:**
- `location` (string, required): The center point location name (e.g., "San Francisco", "New York", "London")
- `distance` (number, required): The radius distance (must be positive)
- `unit` (string, optional): The distance unit. Default: `"km"`
  - Valid units: `"km"` (kilometers), `"mi"` or `"miles"`, `"m"` or `"meters"`, `"ft"` or `"feet"`

### Examples

For more comprehensive examples, see [Example 11: Geographic radius filtering](#11-geographic-radius-filtering) below.

#### Find people within 25 miles of San Francisco

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "region",
        "type": "geo_distance",
        "value": {
            "location": "San Francisco",
            "distance": 25,
            "unit": "mi"
        }
    },
    "limit": 100
}' \
--compressed
```

#### Find software engineers within 50km of London

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "region",
                "type": "geo_distance",
                "value": {
                    "location": "London",
                    "distance": 50,
                    "unit": "km"
                }
            },
            {
                "column": "current_employers.title",
                "type": "(.)",
                "value": "Software Engineer"
            }
        ]
    },
    "limit": 100
}' \
--compressed
```

#### Find CTOs near New York City with specific experience

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "region",
                "type": "geo_distance",
                "value": {
                    "location": "New York",
                    "distance": 30,
                    "unit": "miles"
                }
            },
            {
                "column": "current_employers.title",
                "type": "=",
                "value": "Chief Technology Officer"
            },
            {
                "column": "years_of_experience_raw",
                "type": "=>",
                "value": 10
            }
        ]
    },
    "limit": 50
}' \
--compressed
```

### Important Notes

:::info Location Lookup
- Location names are automatically geocoded using our location database
- If a location is not found or has invalid coordinates, the API will return an error
- Use common location names (cities, regions) for best results
- Examples of valid locations: "San Francisco", "London", "New York", "Singapore", "Berlin"
:::

:::tip Best Practices
- Start with larger radii (50+ km/miles) and refine based on results
- Combine geo_distance with other filters for more precise targeting
- Use kilometers for international searches, miles for US-focused searches
- If you need multiple locations, use separate queries or combine with OR conditions
:::

## Post-processing Options

Additional filtering options that are applied to your search query:

| **Key** | **Type** | **Description** | **Example** |
| ------- | -------- | --------------- | ----------- |
| `exclude_profiles` | array | List of LinkedIn profile URLs to exclude from results. <br/> <br/>  **Maximum: 50,000 profiles per request** <br/> **Request size limit: 10MB total payload** <br/> <br/>  **Note: Profile URLs must be in the format `https://www.linkedin.com/in/{slug}` for post-processing to work correctly.** | `["https://www.linkedin.com/in/john-doe"]` |
| `exclude_names` | array | List of names to exclude from results | `["Test User", "Demo Account"]` |

:::warning Exclusion Limits
- **Maximum exclusions**: 50,000 profile URLs per request
- **Payload size**: Total request size must be under 10MB
- **Performance**: Response time increases with exclusion list size. For optimal performance, keep exclusions under 10,000 profiles.
- **URL format**: Profile URLs must start with "https://www.linkedin.com" or "https://linkedin.com" (missing www or https may not give expected results)
:::

:::tip Managing Large Exclusion Lists
If you need to exclude more than 50,000 profiles or maintain persistent exclusion state across multiple searches, consider implementing your own filtering logic on the client side after receiving the API response.
:::

:::tip Response Format Migration
**Migrating from Realtime to In-DB API?** See our [**API Migration Guide**](/docs/2024-11-01/discover/people-apis/people-api-migration-guide) to transform In-DB response structure to Realtime format.
:::

## Building Complex Filters

### Basic Filter Structure

Each filter condition requires three components:
- `column`: The field to filter on (e.g., "current_employers.title")
- `type`: The operator to use (e.g., "=", "in", "(.)")
- `value`: The value(s) to match

```json
{
    "column": "current_employers.title",
    "type": "=",
    "value": "Software Engineer"
}
```

### Combining Multiple Conditions

Use `op` with "and" or "or" to combine multiple filter conditions:

```json
{
    "op": "and",
    "conditions": [
        {
            "column": "region",
            "type": "=",
            "value": "San Francisco Bay Area"
        },
        {
            "column": "years_of_experience_raw",
            "type": ">",
            "value": 5
        }
    ]
}
```

### Nested Conditions

You can nest AND/OR conditions for complex logic:

```json
{
    "op": "and",
    "conditions": [
        {
            "column": "current_employers.company_industries",
            "type": "in",
            "value": ["Technology", "Software"]
        },
        {
            "op": "or",
            "conditions": [
                {
                    "column": "current_employers.title",
                    "type": "(.)"  ,
                    "value": "engineer"
                },
                {
                    "column": "current_employers.title",
                    "type": "(.)"  ,
                    "value": "developer"
                }
            ]
        }
    ]
}
```

:::warning Important: AND Operator with Nested Fields
When using AND with nested array fields (like honors, employers, education), ALL conditions must match within the SAME array object.

**Example:** 
- `current_employers.title = "Software Engineer" AND current_employers.name = "Capital One"` 
  - ‚úÖ Matches if a SINGLE employment object has both title="Software Engineer" AND company name="Capital One"
  - ‚ùå Does NOT match if "Software Engineer" is at one company and "Capital One" is a different employment entry

**For matching across different objects, use OR:**
- `current_employers.title = "Software Engineer" OR current_employers.name = "Capital One"`
  - ‚úÖ Matches if ANY employment has title="Software Engineer" OR ANY employment has company name="Capital One"
:::

### Querying Multiple Employers with AND Conditions

<details id="querying-multiple-employers-with-and-conditions">
<summary><strong>Click to expand: How to query for people who worked at multiple companies</strong></summary>

When querying for people who have worked at multiple specific companies (across different employment records), you need to use a **nested AND structure** where each employer condition is wrapped in its own AND group.

:::danger Common Mistake
**‚ùå INCORRECT - This returns 0 results:**
```json
{
  "op": "and",
  "conditions": [
    {
      "column": "all_employers.name",
      "type": "[.]",
      "value": "Hyperscan"
    },
    {
      "column": "all_employers.name",
      "type": "[.]",
      "value": "Antler"
    }
  ]
}
```
This fails because it's trying to find a SINGLE employment record with both "Hyperscan" AND "Antler" as the company name, which is impossible.
:::

:::tip ‚úÖ CORRECT Syntax
**Each employer must be in its own nested AND condition:**
```json
{
  "op": "and",
  "conditions": [
    {
      "op": "and",
      "conditions": [
        {
          "column": "all_employers.name",
          "type": "[.]",
          "value": "Hyperscan"
        }
      ]
    },
    {
      "op": "and",
      "conditions": [
        {
          "column": "all_employers.name",
          "type": "[.]",
          "value": "Antler"
        }
      ]
    }
  ]
}
```
This correctly finds people who have "Hyperscan" in ONE employment record AND "Antler" in ANOTHER employment record.
:::

#### Why is the nested structure required?

When you filter on array fields like `all_employers`, the API evaluates each array element independently. The nested structure ensures that:
1. Each inner AND group is evaluated against separate array elements
2. The outer AND combines the results, finding people who match ALL the employer criteria across their employment history
3. Without nesting, the API tries to match all conditions within a single array element, which fails for multiple distinct employer names

#### Complete Example: People who worked at both Hyperscan and Antler

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Token $token' \
  --data '{
  "filters": {
    "op": "and",
    "conditions": [
      {
        "op": "and",
        "conditions": [
          {
            "column": "all_employers.name",
            "type": "[.]",
            "value": "Hyperscan"
          }
        ]
      },
      {
        "op": "and",
        "conditions": [
          {
            "column": "all_employers.name",
            "type": "[.]",
            "value": "Antler"
          }
        ]
      }
    ]
  },
  "limit": 100
}'
```

#### Adding additional filters with multiple employers

You can combine multiple employer queries with other filters at the same level:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Token $token' \
  --data '{
  "filters": {
    "op": "and",
    "conditions": [
      {
        "op": "and",
        "conditions": [
          {
            "column": "all_employers.name",
            "type": "[.]",
            "value": "Hyperscan"
          }
        ]
      },
      {
        "op": "and",
        "conditions": [
          {
            "column": "all_employers.name",
            "type": "[.]",
            "value": "Antler"
          },
          {
            "column": "first_name",
            "type": "=",
            "value": "Roberts"
          }
        ]
      }
    ]
  },
  "limit": 100
}'
```

This query finds people who:
- Have worked at "Hyperscan" (in any employment record)
- AND have worked at "Antler" (in a different employment record), and the person's first name is "Roberts"

:::info Key Takeaway
When querying for multiple distinct values in array fields (like different company names in `all_employers`), always use nested AND conditions to ensure each value is matched against separate array elements.
:::

</details>

## Sorting Results

Control the order of search results using the `sorts` parameter. You can sort by multiple fields and specify ascending or descending order for each.

### Sort Structure

Each sort criterion requires two components:
- `column`: The field name to sort by (must be one of the sortable fields listed below)
- `order`: Either `"asc"` (ascending) or `"desc"` (descending)

**Complete sort example:**
```json
{
    "column": "years_of_experience_raw",
    "order": "desc"
}
```

### Sortable Fields

For optimal performance, sorting is restricted to the following curated fields:

**Core Person Metrics:**
- `person_id` - Unique person identifier
- `years_of_experience_raw` - Total years of work experience (numeric)
- `num_of_connections` - LinkedIn connection count
- `name` - Person's full name
- `recently_changed_jobs` - Boolean indicating recent job change

**Current Employer Fields:**
- `current_employers.years_at_company_raw` - Years at current company (numeric)
- `current_employers.start_date` - Start date at current company
- `current_employers.company_headcount_latest` - Current company's employee count

**Location Fields:**
- `region` - Person's current location
- `location_city` - City component of person's location
- `location_state` - State/province component
- `location_country` - Country component

:::tip Choosing Between fields
- Use `years_of_experience_raw` and `years_at_company_raw` for numeric sorting (these are the actual numeric values)
- Fields ending in `_raw` provide precise numeric values for calculations and sorting
:::

### Sort Behavior

- **Default Sort**: If no `sorts` parameter is provided, results are sorted by `person_id` in ascending order for stable pagination
- **Multiple Sort Criteria**: You can specify multiple sort fields. Results are sorted by the first criterion, then ties are broken by subsequent criteria
- **Tiebreaker**: `person_id` is automatically added as a final tiebreaker to ensure consistent pagination

:::warning Performance Considerations
- Sorting on numeric fields (`years_of_experience_raw`, `num_of_connections`) is fastest
- Sorting on nested fields (`current_employers.*`) may be slightly slower than top-level fields
- For best performance, limit the number of sort criteria to 2-3 fields
:::

## Example Requests

<details>
<summary>1. Basic filter examples</summary>

### 1. Basic filter examples

Find people by exact title match:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.title",
        "type": "=",
        "value": "Chief Executive Officer"
    },
    "limit": 100
}' \
--compressed
```

Find people whose headline contains "founder" (text search with fuzzy matching):

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "headline",
        "type": "(.)",
        "value": "founder"
    },
    "limit": 100
}' \
--compressed
```

Find people with more than 10 years of experience:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "years_of_experience_raw",
        "type": ">",
        "value": 10
    },
    "limit": 100
}' \
--compressed
```
</details>

<details>
<summary>2. Filter with comparison operators</summary>

### 2. Filter with comparison operators

Find people with significant LinkedIn connections:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "num_of_connections",
                "type": ">",
                "value": 500
            },
            {
                "column": "recently_changed_jobs",
                "type": "=",
                "value": true
            }
        ]
    },
    "limit": 50
}' \
--compressed
```
</details>

<details>
<summary>3. Filter with NOT operators</summary>

### 3. Filter with NOT operators

Find professionals excluding certain companies and titles:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "current_employers.name",
                "type": "not_in",
                "value": ["Google", "Meta", "Amazon"]
            },
            {
                "column": "current_employers.title",
                "type": "!=",
                "value": "Intern"
            },
            {
                "column": "region",
                "type": "=",
                "value": "San Francisco Bay Area"
            }
        ]
    },
    "limit": 100
}' \
--compressed
```
</details>

<details>
<summary>4. Complex nested filter example</summary>

### 4. Complex nested filter example

Find senior professionals with specific criteria:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "op": "or",
                "conditions": [
                    {
                        "column": "current_employers.title",
                        "type": "(.)"  ,
                        "value": "VP"
                    },
                    {
                        "column": "current_employers.title",
                        "type": "(.)"  ,
                        "value": "Director"
                    },
                    {
                        "column": "current_employers.seniority_level",
                        "type": "=",
                        "value": "CXO"
                    }
                ]
            },
            {
                "column": "years_of_experience_raw",
                "type": "=>",
                "value": 10
            },
            {
                "column": "current_employers.company_headcount_latest",
                "type": "<",
                "value": 1000
            }
        ]
    },
    "limit": 50
}' \
--compressed
```
</details>

<details>
<summary>5. Filter by date ranges</summary>

### 5. Filter by date ranges

Find people who started their current position recently:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "current_employers.start_date",
                "type": "=>",
                "value": "2023-01-01"
            },
            {
                "column": "current_employers.company_type",
                "type": "=",
                "value": "Public Company"
            },
            {
                "column": "years_of_experience_raw",
                "type": "=<",
                "value": 15
            }
        ]
    },
    "limit": 50
}' \
--compressed
```
</details>

<details>
<summary>6. Filter by education and skills</summary>

### 6. Filter by education and skills

Find alumni with specific skills:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "education_background.institute_name",
                "type": "(.)"  ,
                "value": "Stanford"
            },
            {
                "column": "education_background.degree_name",
                "type": "!=",
                "value": "Bachelor"
            },
            {
                "column": "skills",
                "type": "(.)"  ,
                "value": "machine learning"
            }
        ]
    },
    "limit": 100
}' \
--compressed
```
</details>

<details>
<summary>7. Filter by certifications and honors</summary>

### 7. Filter by certifications and honors

Find certified professionals with recognition:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "certifications.name",
                "type": "(.)"  ,
                "value": "AWS"
            },
            {
                "column": "certifications.issued_date",
                "type": "=>",
                "value": "2022-01-01"
            },
            {
                "column": "honors.title",
                "type": "(.)"  ,
                "value": "award"
            }
        ]
    },
    "limit": 50
}' \
--compressed
```
</details>

<details>
<summary>8. Filter across all employment history</summary>

### 8. Filter across all employment history

Find people with experience at specific companies (past or present):

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "all_employers.name",
                "type": "in",
                "value": ["Google", "Facebook", "Apple", "Amazon"]
            },
            {
                "column": "all_employers.years_at_company_raw",
                "type": "=>",
                "value": 2
            },
            {
                "column": "current_employers.company_headcount_range",
                "type": "!=",
                "value": "10,001+"
            }
        ]
    },
    "limit": 50
}' \
--compressed
```
</details>

<details>
<summary>9. Find people at a company by LinkedIn URL</summary>

### 9. Find people at a company by LinkedIn URL

Find all people currently working at a company using its LinkedIn profile URL:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.company_linkedin_profile_url",
        "type": "=",
        "value": "https://www.linkedin.com/company/tesla-motors"
    },
    "limit": 100
}' \
--compressed
```

Alternatively, you can use the LinkedIn ID:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.linkedin_id",
        "type": "=",
        "value": "1441"
    },
    "limit": 100
}' \
--compressed
```

Note: The LinkedIn ID is the numeric identifier from the company's LinkedIn URL. For example, if the LinkedIn URL is `https://www.linkedin.com/company/1441/`, the LinkedIn ID is `1441`.

**How to get the LinkedIn ID or URL:** You can use the free [Company Identification API](/docs/2024-11-01/discover/company-apis/company-identification-api) to get a company's `linkedin_id` and `linkedin_url` by providing its website domain:
- Example input: `query_company_website`: `"tesla.com"` or `query_company_linkedin_url`: `"https://www.linkedin.com/company/tesla-motors"`
- Example output: `linkedin_id`: `"15564"` (Tesla's LinkedIn ID), `linkedin_url`: `"https://www.linkedin.com/company/tesla-motors"`

You can also filter by past employers or all employers:

```bash
# Find people who previously worked at a company using LinkedIn URL
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "past_employers.company_linkedin_profile_url",
        "type": "=",
        "value": "https://www.linkedin.com/company/tesla-motors"
    },
    "limit": 100
}' \
--compressed
```

```bash
# Find people who previously worked at a company using LinkedIn ID
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "past_employers.linkedin_id",
        "type": "=",
        "value": "1441"
    },
    "limit": 100
}' \
--compressed
```
</details>

<details>
<summary>10. Find people at a company by domain</summary>

### 10. Find people at a company by domain

Find all people currently working at companies with a specific website domain.

**Example values:**
- `company_website_domain`: `"tesla.com"`, `"apple.com"`, `"google.com"`, `"microsoft.com"`

You can obtain a company's website domain from their LinkedIn ID using the free [Company Identification API](/docs/2024-11-01/discover/company-apis/company-identification-api):

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.company_website_domain",
        "type": "=",
        "value": "tesla.com"
    },
    "limit": 100
}' \
--compressed
```

Find people at multiple companies by their domains:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.company_website_domain",
        "type": "in",
        "value": ["tesla.com", "spacex.com", "neuralink.com"]
    },
    "limit": 100
}' \
--compressed
```

You can also combine domain search with other filters:

```bash
# Find senior executives at a company by domain
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "current_employers.company_website_domain",
                "type": "=",
                "value": "apple.com"
            },
            {
                "column": "current_employers.seniority_level",
                "type": "in",
                "value": ["CXO", "Vice President", "Director"]
            }
        ]
    },
    "limit": 100
}' \
--compressed
```

</details>

<details>
<summary>11. Geographic radius filtering</summary>

### 11. Geographic radius filtering

Find people within a specific distance from a location:

```bash
# Find people within 25 miles of San Francisco
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "region",
        "type": "geo_distance",
        "value": {
            "location": "San Francisco",
            "distance": 25,
            "unit": "mi"
        }
    },
    "limit": 100
}' \
--compressed
```

Find software engineers within 50km of London:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "region",
                "type": "geo_distance",
                "value": {
                    "location": "London",
                    "distance": 50,
                    "unit": "km"
                }
            },
            {
                "column": "current_employers.title",
                "type": "(.)",
                "value": "Software Engineer"
            }
        ]
    },
    "limit": 100
}' \
--compressed
```

Find senior executives near New York with experience requirements:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "region",
                "type": "geo_distance",
                "value": {
                    "location": "New York",
                    "distance": 30,
                    "unit": "miles"
                }
            },
            {
                "column": "current_employers.seniority_level",
                "type": "in",
                "value": ["CXO", "Vice President", "Director"]
            },
            {
                "column": "years_of_experience_raw",
                "type": "=>",
                "value": 10
            }
        ]
    },
    "limit": 50
}' \
--compressed
```

Find people within 100km of Berlin working in tech companies:

```bash
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "region",
                "type": "geo_distance",
                "value": {
                    "location": "Berlin",
                    "distance": 100,
                    "unit": "km"
                }
            },
            {
                "column": "current_employers.company_industries",
                "type": "in",
                "value": ["Technology", "Software Development", "Information Technology"]
            }
        ]
    },
    "limit": 100
}' \
--compressed
```
</details>

<details>
<summary>12. Using post-processing to exclude specific profiles and names</summary>

### 12. Using post-processing to exclude specific profiles and names

Find senior executives excluding specific people:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.seniority_level",
        "type": "in",
        "value": ["CXO", "Vice President", "Director"]
    },
    "limit": 100,
    "post_processing": {
        "exclude_profiles": [
            "https://linkedin.com/in/john-doe",
            "https://linkedin.com/in/jane-smith"
        ],
        "exclude_names": [
            "Test User",
            "Demo Account"
        ]
    }
}' \
--compressed
```
</details>

<details>
<summary>13. Excluding senior executives with not_in</summary>

### 13. Excluding Senior Executives with `not_in`

To find individual contributors and exclude anyone who has held executive positions:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
  -H 'Authorization: Token $auth_token' \
  -H 'Content-Type: application/json' \
  --data '{
    "filter": {
      "op": "and",
      "conditions": [
        {
          "column": "all_employers.seniority_level",
          "type": "not_in",
          "value": ["Owner / Partner", "CXO", "Vice President", "Director"]
        },
        {
          "column": "all_employers.title",
          "type": "not_in",
          "value": ["CEO", "President", "Chairman", "Founder", "Co-Founder"]
        }
      ]
    },
    "limit": 100
  }' \
--compressed
```

This will exclude anyone who:
- Currently has or previously had a seniority level of VP or above AND
- Ever held a title like CEO, President, Chairman, Founder, or Co-Founder

:::info How `not_in` Works with Employment History
When using `not_in` on employment history fields (like `all_employers.title` or `all_employers.name`), the filter excludes profiles where the person has **ever** held that title or worked at that company at any point in their career.
:::
</details>

<details>
<summary>14. Excluding specific companies with not_in</summary>

### 14. Excluding Specific Companies with `not_in`

To find people who have never worked at certain competitors:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
  -H 'Authorization: Token $auth_token' \
  -H 'Content-Type: application/json' \
  --data '{
    "filter": {
      "op": "and",
      "conditions": [
        {
          "column": "all_employers.name",
          "type": "not_in",
          "value": ["Google", "Meta"]
        }
      ]
    },
    "limit": 100
  }' \
--compressed
```

This excludes anyone who currently works at Google/Meta OR has ever worked at Google/Meta in the past.

**Note:** Use exact company names as they appear in LinkedIn profiles for best results.
</details>

<details>
<summary>15. Sorting results by experience and connections</summary>

### 15. Sorting Results by Experience and Connections

Find CTOs with the most experience and connections:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.title",
        "type": "=",
        "value": "Chief Technology Officer"
    },
    "sorts": [
        {
            "column": "years_of_experience_raw",
            "order": "desc"
        },
        {
            "column": "num_of_connections",
            "order": "desc"
        }
    ],
    "limit": 50
}' \
--compressed
```

Find early career software engineers sorted by company size:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "current_employers.title",
                "type": "(.)",
                "value": "Software Engineer"
            },
            {
                "column": "years_of_experience_raw",
                "type": "=<",
                "value": 3
            }
        ]
    },
    "sorts": [
        {
            "column": "current_employers.company_headcount_latest",
            "order": "desc"
        }
    ],
    "limit": 100
}' \
--compressed
```

Find long-tenured employees at specific company:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.name",
        "type": "=",
        "value": "Microsoft"
    },
    "sorts": [
        {
            "column": "current_employers.years_at_company_raw",
            "order": "desc"
        }
    ],
    "limit": 100
}' \
--compressed
```

:::tip Sorting Best Practices
- **Combine sorting with filtering** for targeted results
- **Use `_raw` fields** for numeric sorting (e.g., `years_of_experience_raw`, `years_at_company_raw`)
- **Multiple sort criteria** help break ties - order by primary criterion first, then secondary
- **Sorting is consistent** across paginated results - the cursor maintains sort order
:::

**Additional sorting examples:**

Sort by years of experience (most experienced first):
```json
{
    "filters": {
        "column": "current_employers.title",
        "type": "in",
        "value": ["CEO", "CTO"]
    },
    "sorts": [
        {
            "column": "years_of_experience_raw",
            "order": "desc"
        }
    ],
    "limit": 50
}
```

Sort by multiple criteria (connections, then experience):
```json
{
    "filters": {
        "column": "region",
        "type": "(.)",
        "value": "San Francisco"
    },
    "sorts": [
        {
            "column": "num_of_connections",
            "order": "desc"
        },
        {
            "column": "years_of_experience_raw",
            "order": "desc"
        }
    ],
    "limit": 100
}
```

Sort by company tenure (longest tenure first):
```json
{
    "filters": {
        "column": "current_employers.name",
        "type": "=",
        "value": "Google"
    },
    "sorts": [
        {
            "column": "current_employers.years_at_company_raw",
            "order": "desc"
        }
    ],
    "limit": 50
}
```

</details>

<details>
<summary>16. Filter by verified business email</summary>

### 16. Filter by Verified Business Email

Find people who have a verified business email at their current employer. This is useful when you need high-quality contact data for outreach.

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "column": "current_employers.business_email_verified",
        "type": "=",
        "value": true
    },
    "limit": 100
}' \
--compressed
```

Combine with other filters to find verified contacts with specific criteria:

```bash
curl 'https://api.crustdata.com/screener/persondb/search' \
-H "Authorization: Token $auth_token" \
-H 'Content-Type: application/json' \
--data-raw '{
    "filters": {
        "op": "and",
        "conditions": [
            {
                "column": "current_employers.title",
                "type": "in",
                "value": ["CEO", "CTO", "Founder", "Co-Founder"]
            },
            {
                "column": "location_country",
                "type": "=",
                "value": "United States"
            },
            {
                "column": "current_employers.business_email_verified",
                "type": "=",
                "value": true
            }
        ]
    },
    "limit": 100
}' \
--compressed
```

:::tip Available verified email fields
- `current_employers.business_email_verified` - Filter for verified emails at current jobs
- `past_employers.business_email_verified` - Filter for verified emails at past jobs  
- `all_employers.business_email_verified` - Filter for verified emails across all employment history
:::

</details>

## Example Response
<details id="1-response-when-profiles-are-in-database">
<summary>1. CEO's in companies located in New York</summary>

[View example response](/examples/people-search/persondb-ceo.json)
</details>

<details id="2-response-preview">
<summary>2. Response with `preview=true`</summary>

[View example response](//examples/people-search/persondb-preview.json)
</details>

## Pagination

This API uses cursor-based pagination for efficient data retrieval:
- `cursor`: Pagination cursor from previous response (optional)
- `limit`: Results per page (default: 20, max: 1,000)

The response includes:
- `next_cursor`: Cursor for fetching the next page
- `total_count`: Total number of results matching your filters

### How Cursor Pagination Works

1. **First Request**: Don't include a cursor
2. **Subsequent Requests**: Use the `next_cursor` from the previous response
3. **End of Results**: When no more results exist, the next request returns an empty `profiles` array

:::info Important
- The cursor is tied to your specific query (filters + sorts). Using a cursor with different query parameters will return an error.
- Cursors should be treated as opaque strings and not modified.
:::

<details>
<summary>Paginating through results</summary>

```bash
# First page (people 1-100)
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
--data-raw '{
    "filters": { ... },
    "limit": 100
}'
# Response: { "profiles": [...], "next_cursor": "eJx1jjEOwjAMRe...", "total_count": 250 }

# Second page (people 101-200)
curl 'https://api.crustdata.com/screener/persondb/search/' \
-H "Authorization: Token $auth_token" \
--data-raw '{
    "filters": { ... },
    "limit": 100,
    "cursor": "eJx1jjEOwjAMRe..."
}'
# Response: { "profiles": [...], "next_cursor": "eJx2kLEOwjAMRe...", "total_count": 250 }

# Eventually, when no more results:
# Response: { "profiles": [], "total_count": 250 }
```
</details>

**Best Practices:**
- Use consistent filters across all pagination requests
- Check if `profiles` array is empty to determine end of results
- Store the cursor if you need to resume pagination later

## Best Practices

1. **Use specific filters** to reduce result set size and improve performance
2. **Combine multiple criteria** for more targeted searches
3. **Use pagination** for large result sets
4. **Cache results** when appropriate to reduce API calls

## Common Use Cases

1. **Executive Search**: Filter by `seniority_level` and `current_title`
2. **Industry Experts**: Combine `industry`, `years_of_experience`, and `skills`
3. **Alumni Networks**: Use `school` filter with company or location filters
4. **Job Function Analysis**: Filter by `function` and `company_type`
5. **Geographic Talent Pool**: Use `region` with experience or skill filters
6. **Local Recruitment**: Use `geo_distance` to find candidates within a radius of your office (see Example 11)
7. **Regional Market Analysis**: Combine `geo_distance` with industry filters to map talent density
8. **Excluding Senior Roles**: Use `not_in` with `all_employers.seniority_level` and `all_employers.title` (see Example 13)
9. **Competitor Analysis**: Use `not_in` with `all_employers.name` to exclude specific companies (see Example 14)
10. **Verified Contact Outreach**: Use `current_employers.business_email_verified` to find people with verified business emails (see Example 16)

## Rate Limits and Performance

- **Rate limit**: 60 requests per minute (RPM)
- **Maximum profiles per response**: 1,000 profiles per request
- **Maximum exclusions**: 50,000 profiles in `post_processing.exclude_profiles`
- **Request payload limit**: 10MB total request size
- **Performance tip**: Use specific filters to improve response time. Exclusion lists over 10,000 profiles may increase response time significantly.

---

# People Enrichment API

### [ üöÄ Try Now ](/api#tag/people-apis/GET/screener/person/enrich)

This API allows you to retrieve enriched data for one or more LinkedIn profiles in a single request.

## Endpoint

```
GET /screener/person/enrich
```

## Data Dictionary

[People Enrichment API Data Dictionary](/docs/2024-11-01/dictionary/people-enrichment)

## Request Parameters

| Parameter | Type | Required | Default | Description | Example|
|-----------|------|-------|---------|-------------------| -----|
| `linkedin_profile_url` | string | Yes | ‚Äî | Comma-separated list of LinkedIn profile URLs (25 max limit) of the person to enrich | `https://www.linkedin.com/in/dvdhsu/`,<br></br>`https://www.linkedin.com/in/jonnilundy/` |
| `enrich_realtime` | boolean | No | `false` | Whether to enrich the profile in real-time | `true` |
| `business_email` | string | No | ‚Äî | Business email of the person to enrich | `abhilash@crustdata.com` |
| `fields` | string | No | - | Specify the fields to include in the response | `all_degrees,education_background` |
| `preview` | boolean | No | `false` | [**Access controlled**] <br/>Provides basic profile details lookup | `true` |

<details id="mapping-multiple-profiles">
<summary><strong>Mapping Multiple LinkedIn URLs to Response Objects</strong></summary>

When providing multiple LinkedIn URLs, each response object includes a **`query_linkedin_profile_urn_or_slug`** field containing the profile slug (the part after `/in/` in the URL) to identify which input URL it corresponds to.

**Example:** Request `linkedin_profile_url=https://www.linkedin.com/in/siqic,https://www.linkedin.com/in/neelesh-soni` returns:
```json
[
  {"name": "Siqi Chen", "query_linkedin_profile_urn_or_slug": ["siqic"]},
  {"name": "Neelesh Soni", "query_linkedin_profile_urn_or_slug": ["neelesh-soni"]}
]
```

</details>

#### Key Features
- Latency
    - **Database Search:** Less than **10 seconds** per profile.
    - **Real-Time Search:** May take longer due to fetching data from the web.
    
- Limits
    
    - **Profiles/Emails per Request:** Up to **25**.
    - **Exceeding Limits:** Requests exceeding this limit will be rejected with an error message.
- Constraints
    - **Valid Input:** Ensure all LinkedIn URLs and email addresses are correctly formatted.
        - Invalid inputs result in validation errors.
    - **Mutually Exclusive Parameters:** Do not include both linkedin_profile_url and business_email in the same request.
    - **Independent Processing:** Each profile or email is processed independently.
        - Found entries are returned immediately
        - Not found entries trigger the enrichment process (if enrich_realtime=False)

:::info
##### Business Email Enrichment 
    
    - **Discovery:** Discover business email addresses of professionals based on their LinkedIn profiles.
    - **Implementation:** To enable, include `business_email` in the `fields` parameter:
      ```
      GET /screener/person/enrich?linkedin_profile_url=https://www.linkedin.com/in/example&fields=business_email
      ```
:::

## Credit Usage
- **Database Enrichment:**
        - **3 credits** per LinkedIn profile or email.
- **Real-Time Enrichment (enrich_realtime=True):**
    - **5 credits** per LinkedIn profile or email.
- **Email Enrichment:**
    - **2 additional credits** when requesting business email
- **Preview Mode:**
    - **0 credits** when `preview=true` is used
- **No Results, No Charges**: You are never charged credits when our APIs return no results. Credits are only deducted when data is successfully returned from your API requests.

## Example Requests

<details id="1-get-all-fields-example">
<summary>1. Get all fields example</summary>

### 1. Get all fields example
- Usecase: Retrieve comprehensive profile data including all available fields for a single LinkedIn profile
    
```bash
curl --location 'https://api.crustdata.com/screener/person/enrich?fields=linkedin_profile_url,linkedin_flagship_url,name,location,email,title,last_updated,headline,summary,num_of_connections,skills,profile_picture_url,profile_picture_permalink,twitter_handle,languages,all_employers,past_employers,current_employers,education_background,all_employers_company_id,all_titles,all_schools,all_degrees&linkedin_profile_url=https://www.linkedin.com/in/manmohitgrewal/' \
--header 'Authorization: Token $auth' \
--header 'Accept: application/json, text/plain, */*' \
--header 'Content-Type: application/json'
```
</details>

<details id="2-real-time-enrichment">
<summary>2. Real-time enrichment</summary>

### 2. Real-time enrichment 
- Usecase: Ideal for users who wants to enrich a profile in realtime from LinkedIn
    
```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?linkedin_profile_url=https://www.linkedin.com/in/abhilashchowdhary&enrich_realtime=true" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

<details id="3-request-for-business-email-and-all-default-fields">
<summary>3. Request with business email enrichment</summary>

### 3. Request for business email and all default fields
:::info
1. Only email enrichment
    - If you only request for `fields=business_email`, the endpoint will return just the email‚Äîno default profile fields (name, location, LinkedIn URL, headline, etc.).
    - This keeps the call cheap: 2 credits for email enrichment.
2. Email enrichment with profile enrichment
    - If you want to get the profile details along with business email you can add them to fields param in the request as shown in this example.
    - Cost: 2 credits for the email + 3 credits for profile enrichment (5 if realtime=true).
:::    

```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?linkedin_profile_url=https://www.linkedin.com/in/sasikumarm00&enrich_realtime=true&fields=business_email,linkedin_profile_url,linkedin_flagship_url,name,location,email,title,last_updated,headline,summary,num_of_connections,skills,profile_picture_url,twitter_handle,languages,linkedin_joined_date,all_employers,past_employers,current_employers,education_background,all_employers_company_id,all_titles,all_schools,all_degrees" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

<details id="4-request-with-all-default-fields-and-education-background-activities-and-societies">
<summary>4. Request with activities and societies</summary>

### 4. Request with all default fields AND `education_background.activities_and_societies`
        
```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?linkedin_profile_url=https://www.linkedin.com/in/sasikumarm00&enrich_realtime=true&fields=education_background.activities_and_societies,linkedin_profile_url,linkedin_flagship_url,name,location,email,title,last_updated,headline,summary,num_of_connections,skills,profile_picture_url,twitter_handle,languages,all_employers,past_employers,current_employers,education_background.degree_name,education_background.end_date,education_background.field_of_study,education_background.institute_linkedin_id,education_background.institute_linkedin_url,education_background.institute_logo_url,education_background.institute_name,education_background.start_date,all_employers_company_id,all_titles,all_schools,all_degrees" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

<details id="5-request-with-all-default-fields-and-certifications-honors-and-linkedin-open-to-cards">
<summary>5. Request with certifications and honors</summary>

### 5. Request with all default fields AND `certifications`, `honors`  and `linkedin_open_to_cards`
:::warning
  `certifications` , `honors`  and `linkedin_open_to_cards`  fields are not available by default. To gain access chat with [Abhilash](mailto:abhilash@crustdata.com) or [Chris](mailto:chris@crustdata.com) on your dedicated Crustdata's slack channel.
:::

```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?linkedin_profile_url=https://www.linkedin.com/in/sasikumarm00&enrich_realtime=true&fields=linkedin_profile_url,linkedin_flagship_url,name,location,email,title,last_updated,headline,summary,num_of_connections,skills,profile_picture_url,twitter_handle,languages,all_employers,past_employers,current_employers,education_background.degree_name,education_background.end_date,education_background.field_of_study,education_background.institute_linkedin_id,education_background.institute_linkedin_url,education_background.institute_logo_url,education_background.institute_name,education_background.start_date,all_employers_company_id,all_titles,all_schools,all_degrees,linkedin_open_to_cards,certifications,honors" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

<details id="6-request-with-all-default-fields-and-joined-date-and-verifications">
<summary>6. Request with joined date and verifications</summary>

### 6. Request with all default fields AND `joined_date` and `verifications`
:::warning
  `joined_date` and `verifications` fields are not available by default. To gain access chat with [Abhilash](mailto:abhilash@crustdata.com) or [Chris](mailto:chris@crustdata.com) on your dedicated Crustdata's slack channel.
:::
```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?force_fetch=True&linkedin_profile_url=https://www.linkedin.com/in/sasikumarm00&enrich_realtime=true&fields=linkedin_profile_url,linkedin_flagship_url,name,location,email,title,last_updated,headline,summary,num_of_connections,skills,profile_picture_url,twitter_handle,languages,all_employers,past_employers,current_employers,education_background.degree_name,education_background.end_date,education_background.field_of_study,education_background.institute_linkedin_id,education_background.institute_linkedin_url,education_background.institute_logo_url,education_background.institute_name,education_background.start_date,all_employers_company_id,all_titles,all_schools,all_degrees,linkedin_joined_date,linkedin_verifications" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

<details id="7-reverse-lookup-using-business-email">
<summary>7. Reverse lookup using business email</summary>

### 7. Reverse lookup using business email
        
```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?business_email=zoe.perret@initialized.com&enrich_realtime=true" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

<details id="8-profile-preview">
<summary>8. Preview profile</summary>

### 8. Preview profile
:::info
Access to this feature is controlled - contact [Abhilash](mailto:abhilash@crustdata.co) or [Chris](mailto:chris@crustdata.co) to enable it for your account.
:::

```bash
curl -X GET "https://api.crustdata.com/screener/person/enrich?linkedin_profile_url=https://www.linkedin.com/in/dvdhsu&preview=true" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```
</details>

## Understanding the Score for Reverse Email Lookup {#score-explanation}

<details>
<summary>Click to view details on score calculation and interpretation</summary>

When you perform a reverse lookup using a `business_email`, the API attempts to find the corresponding professional profile. This is typically done using a request like the following:

```bash
cURL -X GET "https://api.crustdata.com/screener/person/enrich?business_email=zoe.perret@initialized.com&enrich_realtime=true" \
-H "Authorization: Token auth_token" \
-H "Accept: application/json, text/plain, */*" \
-H "Content-Type: application/json"
```

If a potential match is found, the response will include a `score` field, indicating the confidence level of the match based on name similarity.

Here's a simplified example of what the response might look like:

```json
[
  {
    "linkedin_profile_url": "https://www.linkedin.com/in/...",
    "name": "Zoe Perret",
    "location": "New York, New York, United States",
    "title": "Partner",
    "last_updated": "2025-02-11T12:27:08.315174+00:00",
    "headline": "Partner at Initialized Capital",
    // ... other fields ...
    "current_employers": [
        {
            "employer_name": "Initialized Capital",
            // ... employer details ...
            "employee_title": "Partner"
        }
        // ... other employers ...
    ],
    "score": 0.9 // <-- The enrichment score
  }
]
```

The score you receive primarily indicates how well the name on a found profile matches the structure of the input email's handle (the part before the '@'). It's a ranking signal based on name structure, not a direct measure of accuracy.

<h3>How it Works (Simplified):</h3>
1. **Parse & Identify**: We take the input email (e.g., `j.smith@example.com`), separate the handle (`j.smith`) and domain (`example.com`), and identify the likely company associated with the domain from our database.
2. **Search**: We search our database and the web for professional profiles associated with that company whose names might correspond structurally to the email handle (`j.smith`).
3. **Score Matches**: For each potential profile found, we compare the profile's actual name (e.g., "Jane Smith", "John Smith") against the email handle (`j.smith`) using common patterns and name similarity logic. The result of this comparison is the score.

<h3>Interpreting the Score:</h3>
The score reflects the structural similarity between the email handle and the name on the profile we found.
*   **High Score (0.9 - 1.0)**: Suggests a strong, common pattern match based on predefined rules.
    *   _Example 1_: Email `jane.smith@company.com` matching a profile named "Jane Smith" typically gets a score like 0.95 (reflecting the `{first}{last}` pattern).
    *   _Example 2_: Email `jsmith@company.com` matching "Jane Smith" typically gets a score like 0.75 (reflecting the `{f}{last}` pattern).
    *   _Example 3_: Email `jane@company.com` matching "Jane Smith" typically gets 0.9 if the handle is just `jane`, but might get 0.5 if the handle were `jane.marketing` (reflecting a single name pattern).
*   **Lower Score (0.5 - 0.89)**: Often indicates a match based on general name similarity calculated by internal logic, rather than a perfect pattern match.
    *   _Example 1_: Email `janes@company.com` matching "Jane Smith" might score around 0.75 (reflecting a `{first}{l}` pattern match).
    *   _Example 2_: Email `j.smith@company.com` matching "Jane Smith" might score 0.708 based on similarity logic (`j` vs `jane`, `smith` vs `smith`).
    *   _Example 3_: Email `jsmi@company.com` matching "Jane Smith" would likely score lower, calculated based on how well `jsmi` partially matches parts of "Jane Smith".

<h3>Key Takeaway:</h3> 
Use the score to gauge how well the email structurally resembles the name found. A high score means the structure fits well with common email naming conventions for that person's name.

<h3>Recommendation:</h3> 
Always verify the person's identity using other details provided in the API response, like title, `current_employers`, and location, regardless of the score.

</details>

## Example Responses

<details id="1-response-for-only-email-enrichment">
<summary>1. Response for only email enrichment</summary>

### Response when `fields=business_email` is passed in the request
```
[
    {
        "business_email": [
            "chris@crustdata.com"
        ],
        "current_employers": [
            {
                "employer_name": "Crustdata",
                "employer_linkedin_id": "33926293",
                "employer_company_website_domain": [
                    "crustdata.com"
                ],
                "business_emails": {
                    "chris@crustdata.com": {
                        "verification_status": "verified",
                        "last_validated_at": "2025-05-18"
                    }
                }
            }
        ],
        "past_employers": [
            {
                "employer_name": "PrivCo",
                "employer_linkedin_id": "28615661",
                "employer_company_website_domain": [
                    "privco.com"
                ],
                "business_emails": {
                    "chris@privco.com": {
                        "verification_status": "",
                        "last_validated_at": ""
                    }
            }
            ],
        "enriched_realtime": false,
        "query_linkedin_profile_urn_or_slug": [
            "chris-pisarski"
        ]
    }
]
```
</details>

<details id="2-response-when-profiles-are-in-database">
<summary>2. Response when profiles are in database</summary>

### Response when LinkedIn profiles are present in Crustdata's database
- Response will include the enriched data for each profile. [View example response](/examples/people-enrichment/database-response.json)
</details>

<details id="3-response-when-profiles-are-not-found">
<summary>3. Response when profiles are not found</summary>

### Response when one or more LinkedIn profiles are not present in Crustdata's database
- An error message will be returned for each profile not found, along with instructions to query again after 60 minutes. [View example response](/examples/people-enrichment/not-found-response.json)
</details>

<details id="4-response-with-all-fields">
<summary>4. Response with all fields</summary>

### Response with all possible fields
[View example response with all possible fields](/examples/people-enrichment/all-fields-response.json)
</details>

<details id="5-response-with-preview">
<summary>4. Response with `preview=true`</summary>

### Response with `preview=true`
[View example response with all possible fields](/examples/people-enrichment/person-preview.json)
</details>

### Single Profile Requests
| `enrich_realtime` | `force_fetch` | Http Code  | Error Code |API message (example)                                                                            | What it means                                                                          |
| ----------------- | ------------- | ------- | ------------- | ------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------- |
| `false`           | `false`       | **200** | - | *Profile JSON*                                                                                   | Profile returned successfully.                                                         |
| `true`            | `false`       | **200** | - | *Profile JSON*                                                                                   | Served from latest cache if present; otherwise fetched live from LinkedIn.             |
| `true`            | `true`        | **200** | - | *Profile JSON*                                                                                   | Always hits LinkedIn in real-time, ignoring cache.                                     |
| `true`            | `true`        | **404** | `PE01` | ‚ÄúNo data found for the LinkedIn profile: \<people\_identifier>. This LinkedIn profile is not available‚Äù                                | LinkedIn profile does not exist (unavailable)                                              |
| `true`           | `true`       | **500** | `PE02` | ‚ÄúNo data found for the LinkedIn profile: \<people\_identifier>. Internal system error while processing profile. Please try again later.‚Äù          | Profile could not be enriched due to internal failure.                                                        |
| `false`           | `false`       | **404** | `PE03` | ‚ÄúNo data found for the LinkedIn profile: \<people\_identifier>. Data will be enriched shortly.‚Äù | Not in DB yet. Queued for enrichment. Retry later or call with `enrich_realtime=true`. |
| `false`           | `false`       | **400** | - | ‚ÄúField 'linkedin\_profile\_url': Invalid LinkedIn URL format: \<linkedin\_profile\_id>‚Äù          | Malformed LinkedIn profile URL.                                                        |

### Multiple Profile Requests (Batch)
| `enrich_realtime` | `force_fetch` | Status  | API message (example)                                                                                              | What it means                                                                                    |
| ----------------- | ------------- | ------- | ------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------ |
| `false`           | `false`       | **200** | *Profiles JSON*                                                                                                    | All profiles enriched successfully.                                                              |
| `false`           | `false`       | **200** | *Profiles JSON* + ‚ÄúNo data found for the LinkedIn profile: \<people\_identifier>. Data will be enriched shortly.‚Äù | Some profiles enriched; the rest queued. Retry missing ones later or use `enrich_realtime=true`. |
| `false`           | `false`       | **200** | *Profiles JSON* + ‚ÄúNo data found for the LinkedIn profile: \<people\_identifier>.‚Äù                                | Some profiles enriched; others don‚Äôt exist.                                                      |
| `false`           | `false`       | **400** | ‚ÄúField 'linkedin\_profile\_url': Invalid LinkedIn URL format: \<linkedin\_profile\_id>‚Äù                            | At least one LinkedIn URL is malformed ‚Äî entire batch rejected.                                  |

### Common Validation Errors
| Status  | API message                                                           | What it means                                                  |
| ------- | --------------------------------------------------------------------- | -------------------------------------------------------------- |
| **400** | ‚Äú`force_fetch` can only be used with `enrich_realtime`.‚Äù              | `force_fetch` cannot be passed without `enrich_realtime=true`. |
| **400** | ‚ÄúYou must provide either a LinkedIn profile URL or a business email.‚Äù | Both `linkedin_profile` and `business_email` are missing.      |
| **400** | ‚ÄúYou can only enrich up to 25 LinkedIn profiles at a time.‚Äù           | More than 25 identifiers in a single request.                  |

### Error Codes

| Error Code | Description | Message |
|-------------|-------------|--------------|
| `PE01` | Profile Unavailable | This LinkedIn profile is not available. |
| `PE02` | Internal System Error | Internal system error while processing profile. Please try again later. |
| `PE03` | Profile Not Found in Database | Data will be enriched shortly. |
| `PE04` | Profile Parsing Error | Unable to process LinkedIn profile data |

---

# People LinkedIn Post API

### [ üöÄ Try Now ](/api/#tag/people-apis/get/screenerlinkedin_posts)

This endpoint retrieves recent LinkedIn posts and related engagement metrics for a specified person.

**Use Case:** Ideal for users who want to fetch recent LinkedIn posts and engagement data for a specific company.

## Endpoint

```
GET /screener/linkedin_posts
```

## Data Dictionary

[People LinkedIn Post API Data Dictionary](/docs/2024-11-01/dictionary/linkedin-posts-company)

## Request Parameters

| Payload key           | Type   | Required | Default               | Description                                                               | Possible values                                                                          |
| --------------------- | ------ | -------- | --------------------- | ------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| `person_linkedin_url` | string | optional | ‚Äî                     | LinkedIn profile URL of the person.                                       | ‚Ä¢Flagship URL `linkedin.com/in/<slug>` <br/>‚Ä¢ FSD profile URL `linkedin.com/in/<profile_id>`   |
| `linkedin_post_url`   | string | optional | ‚Äî                     | Direct LinkedIn post URL to fetch a single post. Cannot be used with person_linkedin_url. | _(any valid LinkedIn post URL)_                                                          |
| `fields`              | string | optional | all except `reactors` | Comma-separated list of fields to include in the response.                | See [LinkedIn Post Fields](/docs/2024-11-01/dictionary/linkedin-posts-company#linkedin-post-fields) |
| `page`                | number | optional* | 1                     | Page number for pagination (up to 20 pages of the latest posts).          |  _1 ‚â§ integer_                                                                                              |
| `limit`               | number | optional* | 5                     | Exact number of posts to return.                                          | _1 ‚â§ integer ‚â§ 100_                                                                                        |
| `post_types`          | string | optional | `repost, original`    | Determines whether to retrieve reposted content, original posts, or both. | `original`, `repost` (or both, comma-separated)                                          |
| `max_reactors`        | number | optional | 100                   | Maximum number of reactors to fetch for each post (person posts only).    | _1 ‚â§ integer ‚â§ 5,000_                                                                                                                                    |
| `max_comments`        | number | optional | 100                   | Maximum number of comments to fetch for each post (person posts only).    | _1 ‚â§ integer ‚â§ 5,000_                                                                                                                                    |

*\* At least one of `page` or `limit` must be provided

#### Key Points

- **Single Post Fetching:** 
  - Use `linkedin_post_url` to fetch a single specific post
  - When using `linkedin_post_url`, only one post is returned and pagination is not applicable
  - Cannot be used together with `person_linkedin_url`
- **Pagination:**
  - Each request returns up-to 5 results per page. Increment the value of `page` query param (starts from 1) to fetch the next set of posts.
  - Most recent posts will be in first page and then so on.
  - Currently, you can only fetch only upto 20 pages of latest posts. In case you want to fetch more, contact Crustdata team at [info@crustdata.com](mailto:info@crustdata.com) .
- External urls or Company/Person LinkedIn urls mentioned in text:
  - `hyperlinks` contains list of links (categorized as `company_linkedin_urls` , `person_linkedin_urls` and `other_urls` ) mentioned in the post
- **Latency:** The data is fetched in real-time from Linkedin and the latency for this endpoint is between 30 to 60 seconds depending on number of reactions for all the posts in the page

## Credit Usage

- Default (without reactors/comments): 1 credit per post returned in the response
- With reactors only (`fields=reactors`): 5 credits per post returned in the response
- With comments only (`fields=comments`): 5 credits per post returned in the response
- With both reactors and comments (`fields=reactors,comments`): 10 credits per post returned in the response
- **No Results, No Charges**: You are never charged credits when our APIs return no results. Credits are only deducted when data is successfully returned from your API requests.

## Example Requests

<details id="1-with-default-fields-without-reactors">
<summary>1. With default fields</summary>

### 1. With default `fields` (without reactors)
```bash
curl 'https://api.crustdata.com/screener/linkedin_posts?person_linkedin_url=https://linkedin.com/in/abhilash-chowdhary&page=1' \
  --header 'Accept: application/json, text/plain, */*' \
  --header 'Accept-Language: en-US,en;q=0.9' \
  --header 'Authorization: Token $auth_token'
```
</details>

<details id="2-with-default-fields-and-reactors">
<summary>2. With reactors</summary>

### 2. With default `fields` and reactors
```bash
curl 'https://api.crustdata.com/screener/linkedin_posts?person_linkedin_url=https://linkedin.com/in/abhilash-chowdhary&page=1&fields=reactors' \
  --header 'Accept: application/json, text/plain, */*' \
  --header 'Accept-Language: en-US,en;q=0.9' \
  --header 'Authorization: Token $auth_token'
```
</details>

<details id="3-with-default-post-types">
<summary>3. With default post_types</summary>

### 3. With default `post_types`
```bash
curl 'https://api.crustdata.com/screener/linkedin_posts?person_linkedin_url=https://linkedin.com/in/abhilash-chowdhary&page=1&post_types=post_types=repost%2C%20original' \
  --header 'Accept: application/json, text/plain, */*' \
  --header 'Accept-Language: en-US,en;q=0.9' \
  --header 'Authorization: Token $auth_token'
```
</details>

<details id="4-fetching-comments-for-posts">
<summary>4. With comments</summary>

### 4. Fetching comments for posts
```bash
curl 'https://api.crustdata.com/screener/linkedin_posts?person_linkedin_url=https://linkedin.com/in/abhilash-chowdhary&limit=2&fields=comments' \
  --header 'Accept: application/json, text/plain, */*' \
  --header 'Accept-Language: en-US,en;q=0.9' \
  --header 'Authorization: Token $auth_token'
```

Sample response with comments: [View example response](/examples/people-linkedin-posts/response-with-comments.json)
</details>

<details id="5-single-post-using-linkedin-post-url">
<summary>5. Single post using linkedin_post_url</summary>

### 5. Single post using linkedin_post_url
```bash
curl --location 'https://api.crustdata.com/screener/linkedin_posts?fields=reactors&linkedin_post_url=https://www.linkedin.com/feed/update/urn:li:activity:7345843680987049986' \
  --header 'Authorization: Token $auth_token'
```
</details>

## Example Response

The response provides a list of recent LinkedIn posts for the specified company, including post content, engagement metrics, and information about users who interacted with the posts.
Full sample: [View example response](/examples/people-linkedin-posts/response.json)

    ```json
    {
      "posts": [
        {
          "backend_urn": "urn:li:activity:7236812027275419648",
          "actor_backend_urn": null,
          "share_urn": "urn:li:share:7236812026038083584",
          "share_url": "https://www.linkedin.com/posts/crustdata_y-combinators-most-popular-startups-from-activity-7236812027275419648-4fyw?utm_source=combined_share_message&utm_medium=member_desktop",
          "text": "Y Combinator's most popular startups.\nFrom the current S24 batch.\n\nHow do you gauge the buzz around these startups when most are pre-product?\n\nWe've defined web traffic as the metric to go by.\n\nHere are the most popular startups from YC S24:  \n\nùü≠. ùó°ùó≤ùòÖùòÅùó®ùóú: Founded by Junior Garcia\nùüÆ. ùó™ùóºùóøùó±ùòÑùóÆùóøùó≤: Filip Kozera, Robert Chandler\nùüØ. ùó®ùóªùóøùó∂ùó±ùó±ùóπùó≤: Naveed Janmohamed\nùü∞. ùó®ùóªùó±ùó≤ùóøùó∫ùó∂ùóªùó±: Thomas Hartke, Joshua Ramette\nùü±. ùóñùóºùó∫ùó≥ùòÜùó±ùó≤ùóΩùóπùóºùòÜ: Nick Kao, Benny Kok\nùü≤. ùóïùó≤ùó≤ùóØùó≤ùòÅùòÅùóºùóø: Jordan Murphy, Matthew Wolfe\nùü≥. ùó†ùó≤ùóøùòÄùó≤: Kumar A., Mark Rachapoom\nùü¥. ùóüùóÆùó∫ùó∂ùóªùóÆùóø: Robert Kim, Din Mailibay, Temirlan Myrzakhmetov\nùüµ. ùó†ùó∂ùòÅùóºùóõùó≤ùóÆùóπùòÅùóµ: Kenneth Lou, Tee-Ming C., Joel Kek, Ryan Ware\nùü≠ùü¨. ùóîùòÇùòÅùóÆùóøùó∞: Etienne-Noel Krause,Thies Hansen, Marius Seufzer\n\nü§î Interested in reading more about the YC S24 batch?\n\nRead our full breakdown from the link in the comments üëá",
          "actor_name": "Crustdata",
          "hyperlinks": {
              "company_linkedin_urls": [],
              "person_linkedin_urls": [
                  "https://www.linkedin.com/in/ACoAAAKoldoBqSsiXY_DHsXdSk1slibabeTvDDY"
              ],
              "other_urls": []
          },
          "date_posted": "2024-09-03",
          "total_reactions": 37,
          "total_comments": 7,
          "reactions_by_type": {
            "LIKE": 28,
            "EMPATHY": 4,
            "PRAISE": 4,
            "INTEREST": 1
          },
          "num_shares": 5,
          "is_repost_without_thoughts": false,
          "reactors": [
            {
              "name": "Courtney May",
              "linkedin_profile_url": "https://www.linkedin.com/in/ACwAACkMyzkBYncrCuM2rzhc06iz6oj741NL-98",
              "reaction_type": "LIKE",
              "profile_image_url": "https://media.licdn.com/dms/image/v2/D5603AQF-8vL_c5H9Zg/profile-displayphoto-shrink_100_100/profile-displayphoto-shrink_100_100/0/1690558480623?e=1730937600&v=beta&t=Lm2hHLTFiEVlHWdTt-Vh3vDYevK8U8SlPqaFdNu3R6A",
              "title": "GTM @ Arc (YC W22)",
              "additional_info": "3rd+",
              "location": "San Francisco, California, United States",
              "linkedin_profile_urn": "ACwAACkMyzkBYncrCuM2rzhc06iz6oj741NL-98",
              "default_position_title": "GTM @ Arc (YC W22)",
              "default_position_company_linkedin_id": "74725230",
              "default_position_is_decision_maker": false,
              "flagship_profile_url": "https://www.linkedin.com/in/courtney-may-8a178b172",
              "profile_picture_url": "https://media.licdn.com/dms/image/v2/D5603AQF-8vL_c5H9Zg/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1690558480623?e=1730937600&v=beta&t=vHg233746zA00m3q2vHKSFcthL3YKiagTtVEZt1qqJI",
              "headline": "GTM @ Arc (YC W22)",
              "summary": null,
              "num_of_connections": 786,
              "related_colleague_company_id": 74725230,
              "skills": [
                "Marketing Strategy",
                "Product Support",
                "SOC 2",
                ...
              ],
              "employer": [
                {
                  "title": "GTM @ Arc (YC W22)",
                  "company_name": "Arc",
                  "company_linkedin_id": "74725230",
                  "start_date": "2024-07-01T00:00:00",
                  "end_date": null,
                  "description": null,
                  "location": "San Francisco, California, United States",
                  "rich_media": []
                },
                {
                  "title": "Product Marketing & Operations Lead",
                  "company_name": "Bits of Stock‚Ñ¢",
                  "company_linkedin_id": "10550545",
                  "start_date": "2023-03-01T00:00:00",
                  "end_date": "2024-07-01T00:00:00",
                  "description": "‚óè Spearheaded SOC 2 Certification and oversaw compliance organization for internal and external needs.\n‚óè Leads a weekly operations call to manage customer support, new user onboarding, and other outstanding operational matters.\n‚óè Wrote & launched: Product Blog with 6 different featured pieces; 2 Pricing Thought-Leadership pieces; & 2 Partner Press Releases; two of which were featured in the WSJ.\n‚óè Managed marketing and logistics for 11 conferences and events all over the world, producing over 150 B2B qualified leads.\n‚óè Created a company-wide marketing strategy and implemented it across the blog, LinkedIn, & Twitter leading to a 125% increased engagement rate & a 29% increase in followers.\n‚óè Aided in sales and partner relations by preparing a Partner Marketing Guide, creating the user support section of the website and inbound email system, and investing education guide.",
                  "location": "San Francisco Bay Area",
                  "rich_media": []
                },
                ...
              ],
              "education_background": [
                {
                  "degree_name": "Bachelor of Applied Science - BASc",
                  "institute_name": "Texas Christian University",
                  "field_of_study": "Economics",
                  "start_date": "2016-01-01T00:00:00",
                  "end_date": "2020-01-01T00:00:00"
                }
              ],
              "emails": [
                "email@example.com"
              ],
              "websites": [],
              "twitter_handle": null,
              "languages": [],
              "pronoun": null,
              "current_title": "GTM @ Arc (YC W22)"
            }, ...
          ]
        }
      ]
    }

    ```

---

# Realtime: People Search API 

### [ üöÄ Try Now ](/api#tag/people-apis/POST/screener/person/search)

Search for people profiles based on custom search criteria as a filter. This endpoint allows you to retrieve detailed information about individuals matching specific criteria.

## Endpoint

```
POST /screener/person/search
```

## Data Dictionary

[Explore the data dictionary for this endpoint here](/docs/2024-11-01/dictionary/people-search)

## Request Parameters

| Payload Keys                             | Type    | Required | Description                                              | Notes                                                                                                               |
| ------------------------------------- | ------- | -------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| `filters`                             | object  | optional | JSON dictionary defining the search criteria             | Refer to [How to Build Filters](/docs/2024-11-01/discover/people-apis/how-to-build-people-filters) for a comprehensive list of filter types and acceptable values. |
| `page`                                | integer | optional | Page number for pagination (starts from 1)                               | Only used with `filters` for synchronous search. Cannot be used with `limit` parameter (mutually exclusive)                                                                                            |
| `preview`                             | boolean | optional | Get preview of profiles                                  | Cannot be used with `page`      
| `limit`                               | integer | optional | Maximum results to return (sync: max 25, async: max 10,000) | Use with `background_job=true` for large searches. Cannot be used with `page` parameter (mutually exclusive)                                                                                        |
| `background_job`                      | boolean | optional | Run search asynchronously for large result sets         | Required when `limit` > 25                                                                                        |
| `job_id`                              | string  | optional | Check status of a background job                         | Returns job status and results when ready                                                                                        |
| `post_processing`                     | object | optional | Extra rules applied *after* the search completes | See **Post-processing options** below                                                                                        |

### Post-processing options
| Key                 | Type | Default | Description                                                                                                                        |
| ------------------- | ---- | ------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| `strict_title_and_company_match` | bool | `false` | When `true`, results are filtered so a profile‚Äôs titles **exactly** match the `CURRENT_TITLE` / `PAST_TITLE` filters you supplied. **Cannot be used with `fuzzy_match: true`.** |
| `exclude_profiles` | array | `[]` | List of LinkedIn profile URLs to exclude from results |
| `exclude_names` | array | `[]` | List of names to exclude from results |

:::warning Parameter Incompatibility
`strict_title_and_company_match` cannot be used when any `CURRENT_TITLE` or `PAST_TITLE` filter has `fuzzy_match: true`. These are mutually exclusive options:
- Use `strict_title_and_company_match: true` for exact title matching with post-processing
- Use `fuzzy_match: true` for broader title matching during the search
:::

#### Key Points
- **Synchronous search**: Each page returns up to 25 results. To fetch all results, iterate over pages until you cover the value of `total_display_count` in the response from first page. **Recommended for searches requiring up to 500 total results.**
- **Asynchronous search**: For large result sets (>500 results), use `background_job=true` with `limit` parameter to retrieve up to 10,000 profiles in a single request. Check job status using the returned `job_id`.
- **Parameter constraints**: 
  - `page` and `limit` parameters are mutually exclusive - use `page` for synchronous pagination or `limit` for async bulk retrieval
  - `background_job` is required when `limit` is greater than 25
  - **Use synchronous search for up to 500 results, asynchronous for 500+ results**

:::tip **Recommended: Use Synchronous Search**
For most use cases, **synchronous search is recommended** because it:
- ‚úÖ **Returns results immediately** (10-30 seconds)
- ‚úÖ **Simpler to implement** - no need to poll for job status
- ‚úÖ **More predictable** - you know exactly when you'll get results
- ‚úÖ **Better for real-time applications** - perfect for user-facing features

**What synchronous search looks like:**
```bash
# Simple synchronous search - returns results immediately
curl 'https://api.crustdata.com/screener/person/search/' \
  --header 'Authorization: Token $token' \
  --header 'Content-Type: application/json' \
  --data '{
    "filters": [
      {
        "filter_type": "CURRENT_COMPANY",
        "type": "in",
        "value": ["https://www.linkedin.com/company/google/"]
      }
    ],
    "page": 1
  }'

# Response comes back in 10-30 seconds with up to 25 profiles
```

**When to use asynchronous search:**
- When you need **more than 500 results** total (across multiple pages or in a single request)
- For **bulk data processing** where immediate results aren't required
- When you have **very large result sets** (thousands of profiles)
:::

- **Pagination:** If the total number of results for the query is more than 25 (value of `total_display_count` param), you can paginate the response in the following ways (depending on your request)
  - When passing `filters` :
    - provide `page` as one of the keys in the payload itself

- **Latency:** The data is fetched in real-time from Linkedin and the latency for this endpoint is between 10 to 30 seconds.
- **Response schema:** Because the data is fetched realtime, and the results may not be in Crustdata's database already, the response schema will be different from [person enrichment endpoint](/docs/2024-11-01/discover/people-apis/people-enrichment-api) . But all the results will be added to Crustdata's database in 10 min of your query and the data for a specific person profile can be enriched via [person enrichment endpoint](/docs/2024-11-01/discover/people-apis/people-enrichment-api)
- **Total number of records:** `total_display_count` field in the response tells the total number of people that match the search criteria. Use that if you just want to get the total number of people for a given criteria.

#### Rate Limits & Constraints
- **Rate limit**: starting at 15 requests per minute for synchronous searches. Reach out to Abhilash or Chris over Slack
- **Background job limit**: 3 concurrent background jobs per account
- **Maximum page number**: 100
- **Maximum profiles per background job**: 10,000. Reach out to Abhilash or Chris if you want to fetch more profiles in 1 request
- **Payload size limit**: 10MB maximum request body size

## Credit Usage
- **Synchronous search** (both `page` and `limit` parameters): Charged 1 credit per profile returned in the API response. If fewer than 5 profiles are returned, a minimum of 5 credits is charged
- **Preview mode**: A successful request with `preview=true` costs 5 credits
- **Background jobs**: Charged based on the actual number of profiles returned (1 credit per profile)
  - Example: A background job with `limit=1000` that returns 750 profiles will cost 750 credits
  - Maximum limit is 10,000 profiles per background job
- **No Results, No Charges**: You are never charged credits when our APIs return no results. Credits are only deducted when data is successfully returned from your API requests.

## Example Requests

<details id="1-via-custom-search-filters">
<summary>1. Via Custom Search Filters</summary>

### 1. Via Custom Search Filters
This query retrieves people working at `Google` or `Microsoft`, excluding those with the titles `Software Engineer` or `Data Scientist`, based in companies headquartered in `United States` or `Canada`, from the `Software Development` or `Hospitals and Health Care` industries, while excluding people located in `California, United States` or `New York, United States`

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '{
    "filters": [
        {
            "filter_type": "CURRENT_COMPANY",
            "type": "in",
            "value": ["Google", "Microsoft"]
        },
        {
            "filter_type": "CURRENT_TITLE",
            "type": "not in",
            "value": ["Software Engineer", "Data Scientist"]
        },
        {
            "filter_type": "COMPANY_HEADQUARTERS",
            "type": "in",
            "value": ["United States", "Canada"]
        },
        {
            "filter_type": "INDUSTRY",
            "type": "in",
            "value": ["Software Development", "Hospitals and Health Care"]
        },
        {
            "filter_type": "REGION",
            "type": "not in",
            "value": ["California, United States", "New York, United States"]
        }
    ],
    "page": 1
}'
```
</details>

<details id="2-profile-with-specific-titles-in-region">
<summary>2. Profile with specific titles in Region</summary>

### 2. Profile with specific titles in Region
Retrieve people profies matching set of past/current titles **and** in specific location.  
For both `CURRENT_TITLE` and `REGION`, use the canonical values fromm static static [Region](/examples/people-search/static-region-filter-values.json)/[Title](/examples/people-search/linkedin_titles.json) list or fetch them via [Auto-complete API](/docs/2024-11-01/discover/auxiliary-apis/filters-autocomplete).

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
  --header 'Authorization: Token $token' \
  --header 'Content-Type: application/json' \
  --data '{
    "filters": [
      {
        "filter_type": "CURRENT_TITLE",
        "type": "in",
        "value": ["Co-Founder"]
      },
      {
        "filter_type": "REGION",
        "type": "in",
        "value": ["San Francisco Bay Area"]
      }
    ],
    "page": 1
  }`
```
</details>

<details id="3-current-employees-of-a-company-with-exact-title">
<summary>3. Current employees of a company with exact title</summary>

### 3. Current employees of a company with exact title
Need an **exact** title match at a specific company?  
Set the post-processing flag `strict_title_and_company_match` to `true`.

#### `CURRENT_TITLE` filter
- **Exact matching enabled:** When `strict_title_and_company_match=true`, the API keeps **only** those people whose current job title matches the string you provide.  
- **Fuzzy matching (default):** By default the API uses fuzzy logic and may return profile with close matching titles. 

#### `CURRENT_COMPANY` filter  
Accepts any of the following identifiers for the company:
1. LinkedIn company profile URL (**preferred**)
2. Company domain (e.g. `codeant.ai`)
3. Plain company name

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
  --header 'Authorization: Token $token' \
  --header 'Content-Type: application/json' \
  --data '{
    "filters": [
      {
        "filter_type": "CURRENT_TITLE",
        "type": "in",
        "value": ["Founder"]
      },
      {
        "filter_type": "CURRENT_COMPANY",
        "type": "in",
        "value": [
          "https://linkedin.com/company/reducto-ai"
        ]
      }
    ],
    "page": 1,
    "post_processing": {
      "strict_title_and_company_match": true
    }
  }`
```

:::warning
When using `strict_title_and_company_match: true`, do not set `fuzzy_match: true` on any `CURRENT_TITLE` or `PAST_TITLE` filters. These options are mutually exclusive.
:::
</details>

<details id="4-exact-title-matching">
<summary>4. Exact title matching using LinkedIn's predefined titles</summary>

### 4. Exact title matching using LinkedIn's predefined titles

For precise title matching, use LinkedIn's official title enumeration. You must select from the predefined title list - either from the [static title values](/examples/people-search/linkedin_titles.json) or by using the [Filters Autocomplete API](/docs/2024-11-01/discover/auxiliary-apis/filters-autocomplete).

**Step 1: Get the exact title using Autocomplete API**
```bash
curl 'https://api.crustdata.com/screener/filters/autocomplete/' \
--header 'Authorization: Token $token' \
--header 'Content-Type: application/json' \
--data '{
  "filter_type": "CURRENT_TITLE",
  "query": "Chief Executive"
}'
```

**Step 2: Use the exact title from the response in your search**
```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--header 'Content-Type: application/json' \
--data '{
  "filters": [
    {
      "filter_type": "CURRENT_TITLE",
      "type": "in",
      "value": ["Chief Executive Officer"]
    },
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["https://linkedin.com/company/openai"]
    }
  ],
  "page": 1
}'
```

:::info
**Important:** The `CURRENT_TITLE` and `PAST_TITLE` filters accept LinkedIn's predefined title values for exact search. Always use the predefined title string from either the [static title list](/examples/people-search/linkedin_titles.json) or the autocomplete API response.
:::
</details>

<details id="5-people-with-specific-first-name-from-a-specific-company">
<summary>5. People with specific first name from a specific company</summary>

### 5. People with specific first name from a specific company given company's domain
```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '{
  "filters": [
    {
      "filter_type": "FIRST_NAME",
      "type": "in",
      "value": ["steve"]
    },
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["buzzbold.com"]
    }
  ],
"page": 1
}'
```
</details>

<details id="6-preview-list-of-people-given-filter-criteria">
<summary>6. Preview list of people given filter criteria</summary>

### 6. Preview list of people given filter criteria
```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json, text/plain, */*' \
--header 'Authorization: Token $token' \
--data '{"filters":[
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["serverobotics.com"]
    },
    {
      "filter_type": "REGION",
      "type": "in",
      "value": ["United States"]
    }
  ],
  "preview": true
}'
```
</details>

<details id="7-people-that-recently-changed-jobs">
<summary>7. People that recently changed jobs</summary>

### 7. People that recently changed jobs and are currently working at a specific company
People that have changed jobs in last 90 days and are currently working at Serve Robotics

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json, text/plain, */*' \
--header 'Authorization: Token $token' \
--data '{"filters":[
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["serverobotics.com"]
    },
    {
      "filter_type": "RECENTLY_CHANGED_JOBS"
    }
  ]
}'
```
</details>

<details id="8-all-people-working-at-a-specific-company">
<summary>8. All people working at a specific company (upto 2500)</summary>

### 8. All people working at a specific company (upto 2500)
```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json, text/plain, */*' \
--header 'Authorization: Token $token' \
--data '{"filters":[
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["serverobotics.com"]
    }
  ],
  "limit": 200
}'
```
</details>

<details id="9-all-people-with-specific-titles-at-a-specific-company">
<summary>9. All people with specific titles at a specific company (boolean filters)</summary>

### 9. All people with specific titles at a specific company (boolean filters)
```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '
{
    "filters": [
        {
            "filter_type": "CURRENT_TITLE",
            "type": "in",
            "value": ["(((staff AND infrastructure AND engineer) OR (cloud AND infrastructure AND architect) OR (principal AND devops AND engineer) OR ccoe OR (cloud AND center AND of AND excellence) OR (site AND reliability AND engineer) OR (finops AND architect) OR (cloud AND platform AND architect) OR (devops AND engineer) OR (sre AND devops) OR (finops AND engineer) OR (cost AND engineer) OR finops OR (cloud AND architect) OR (infra AND architect) OR (cloud AND engineer) OR (infrastructure AND engineer) OR (infra AND engineer) OR (sre AND devops) OR (platform AND engineer) OR (cloud AND cost AND engineer) OR (infrastructure AND architect) OR sre OR (devops AND architect)) AND NOT (solution))"]
        },
        {
            "filter_type": "CURRENT_TITLE",
            "type": "not in",
            "value": [
                "solution"
            ]
        },
        {
            "filter_type": "REGION",
            "type": "in",
            "value": [
                "United States"
            ]
        },
        {
            "filter_type": "CURRENT_COMPANY",
            "type": "in",
            "value": [
                "gorgias.com"
            ]
        }
    ],
    "limit": 5
}'
```
</details>

<details id="10-director-level-or-above-people-in-sales-function">
<summary>10. Director level or above people in Sales function at a specific company</summary>

### 10. Director level or above people in Sales function at a specific company
```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '
{"filters":[
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["rippling.com"]
    },
    {
      "filter_type": "FUNCTION",
      "type": "in",
      "value": ["Sales"]
    },
    {
      "filter_type": "SENIORITY_LEVEL",
      "type": "in",
      "value": ["Vice President", "Director"]
    }
  ],
  "page": 1
}'
```

:::tip
See all possible values for `SENIORITY_LEVEL` and `FUNCTION` filters in the [How to Build People Filters](/docs/2024-11-01/discover/people-apis/how-to-build-people-filters) documentation.
:::
</details>

<details id="11-paginated-background-job-search">
<summary>11. Paginated background job search</summary>

### 11. Paginated background job search

Use `page` with `background_job=true` to process large searches page by page asynchronously. This is useful when you want to process results in batches rather than all at once.

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '{
  "filters": [
    {
      "filter_type": "FIRST_NAME",
      "type": "in",
      "value": ["Ali"]
    },
    {
      "filter_type": "LAST_NAME",
      "type": "in",
      "value": ["Kashani"]
    },
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["serverobotics.com"]
    },
    {
      "filter_type": "REGION",
      "type": "in",
      "value": ["United States"]
    }
  ],
  "page": 1,
  "background_job": "True"
}'
```
</details>

<details id="12-limited-results-with-exclusions">
<summary>12. Limited results with exclusions</summary>

### 12. Limited results with exclusions

Combine `limit` with `post_processing` to exclude specific profiles or names from your results. This example searches for founders but excludes specific individuals.

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '{
  "filters": [
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["serverobotics.com"]
    },
    {
      "filter_type": "CURRENT_TITLE",
      "type": "in",
      "value": ["founder"]
    },
    {
      "filter_type": "REGION",
      "type": "in",
      "value": ["United States"]
    }
  ],
  "limit": 5,
  "post_processing": {
    "exclude_names": ["Ali Kashani"],
    "exclude_profiles": ["https://www.linkedin.com/in/alikashani"]
  }
}'
```
</details>

<details id="13-large-synchronous-search">
<summary>13. Large synchronous search</summary>

### 13. Large synchronous search

For searches with `limit` > 25 but ‚â§ 2000, the API automatically processes them synchronously without requiring `background_job`. This example retrieves up to 2000 dermatologists with "medical imaging" keyword.

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json, text/plain, */*' \
--header 'Authorization: Token $token' \
--data '{
  "filters": [
    {
      "filter_type": "CURRENT_TITLE",
      "type": "in",
      "value": ["Dermatologist"]
    },
    {
      "filter_type": "REGION",
      "type": "in",
      "value": ["United States"]
    },
    {
      "filter_type": "KEYWORD",
      "type": "in",
      "value": ["medical imaging"]
    }
  ],
  "limit": 2000
}'
```

:::warning
This synchronous request may take 30-60 seconds to complete due to the large result set. Consider using `background_job=true` for better performance.
:::
</details>

<details id="14-large-background-search">
<summary>14. Large background search (3000+ results)</summary>

### 14. Large background search (3000+ results)

For very large result sets (limit > 2000), use `background_job=true` to process asynchronously. This example retrieves up to 3000 profiles matching specific criteria.

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '{
  "filters": [
    {
      "filter_type": "FIRST_NAME",
      "type": "in",
      "value": ["Ali"]
    },
    {
      "filter_type": "LAST_NAME",
      "type": "in",
      "value": ["Kashani"]
    },
    {
      "filter_type": "CURRENT_COMPANY",
      "type": "in",
      "value": ["serverobotics.com"]
    },
    {
      "filter_type": "REGION",
      "type": "in",
      "value": ["United States"]
    }
  ],
  "limit": 3000,
  "background_job": "True"
}'
```

Response:
```json
{
  "job_id": "342206ab-0921-4555-833b-e1794b3b674f",
  "status": "processing",
  "message": "Your search is being processed. Use the job_id to retrieve results."
}
```
</details>

<details id="15-retrieve-background-job-results">
<summary>15. Retrieve background job results</summary>

### 15. Retrieve background job results

Check the status and retrieve results of a background job using its `job_id`. The job will return all matching profiles when complete.

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--data '{
  "job_id": "342206ab-0921-4555-833b-e1794b3b674f"
}'
```

Possible status values:
- `processing`: Job is still running
- `completed`: Results are ready (will include profile data)
- `failed`: Job encountered an error

:::tip
Poll this endpoint every 10-30 seconds until the status changes from `processing` to `completed`.
:::
</details>

<details id="16-fuzzy-title-matching">
<summary>16. Fuzzy title matching</summary>

### 16. Fuzzy title matching

Use `fuzzy_match=true` with `CURRENT_TITLE` or `PAST_TITLE` filters to enable broader title matching. This allows for more wider search results when looking for people with similar titles.

```bash
curl 'https://api.crustdata.com/screener/person/search/' \
--header 'Authorization: Token $token' \
--header 'Content-Type: application/json' \
--data '{
  "filters": [
    {
      "filter_type": "CURRENT_TITLE",
      "type": "in",
      "value": ["Founder", "Co-Founder"],
      "fuzzy_match": true
    },
    {
      "filter_type": "SCHOOL",
      "type": "in",
      "value": ["Stanford University"]
    }
  ],
  "page": 1
}'
```

:::info
The `fuzzy_match` parameter is only available for `CURRENT_TITLE` and `PAST_TITLE` filters. When set to `true`, it enables broader matching beyond the default fuzzy logic.
:::

:::warning
When using `fuzzy_match: true` on title filters, do not use `strict_title_and_company_match: true` in post-processing. These options are mutually exclusive.
:::
</details>

## Example Responses

<details id="1-default-response">
<summary>1. Default (without preview=True)</summary>

### 1. Default (without `preview=True`)
[View example response](/examples/people-search/default-response.json)
</details>

<details id="2-preview-response">
<summary>2. With preview=True</summary>

### 2. With `preview=True`
[View example response](/examples/people-search/preview-response.json)
</details>

<details id="3-preview-response-2">
<summary>3. With preview=True (Alternative)</summary>

### 3. With `preview=True`
[View example response](/examples/people-search/preview-response-2.json)
</details>

## Error Responses

Common error scenarios and their responses:

### Invalid Filter Type
```json
{
  "error": "Invalid filter_type: INVALID_TYPE. Valid types are: CURRENT_COMPANY, PAST_COMPANY, CURRENT_TITLE, PAST_TITLE, FIRST_NAME, LAST_NAME, RECENTLY_CHANGED_JOBS, FUNCTION, SENIORITY_LEVEL, COMPANY_HEADQUARTERS, INDUSTRY, REGION"
}
```

### Rate Limit Exceeded
```json
{
  "error": "Rate limit exceeded. Maximum 10 requests per minute.",
  "retry_after": 30
}
```

### Background Job Limit Exceeded
```json
{
  "error": "Maximum concurrent background jobs (3) reached. Please wait for existing jobs to complete."
}
```

### Invalid Parameter Combination
```json
{
  "error": "Cannot use 'preview' with 'page' parameter"
}
```

### Payload Size Limit Exceeded (HTTP 413)
```json
{
  "error": "Request entity too large. Maximum payload size is 10MB.",
  "status_code": 413
}
```

---

